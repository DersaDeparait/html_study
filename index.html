<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JS in Web</title>
	
	<style>
		h1.blue { color:blue; }
		h1.red { color:red; }
	</style>
</head>
<body>
	<h1 class="h1">Розрахунок квадратного рівняння</h1>
	<t2>Введіть коеіцієнти квадратного рівняння</t2><br>
	<input id="a1" type="text" value="1" size="5">
	<t3>*x²+</t3>
	<input id="b1" type="text" value="2" size="5">
	<t4>*x+</t4>
	<input id="c1" type="text" value="5" size="5">
	<t5> = 0</t5>
	<br><br>
	<button id="calculate">calculate</button><br>
	<t6 id="result" rows="3">Result</t6>
	<img id="myImage" src="pic.png">


	<br><br><br><br>
	<br>
	<button id="setRedColor">Change col</button>
	<br>
	<button id="button2">Line</button>
	<br>
	<textarea name="comment" cols="20" rows="0"></textarea>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			const btn = document.getElementById('setRedColor');
			console.log(btn);
			btn.onclick = function() { document.querySelector('.h1').classList.toggle('blue'); }
			
			const btn2 = document.getElementById('button2');
			btn2.onclick = function() { document.querySelector('.h1').classList.toggle('red'); }
			
			const calculate = document.getElementById('calculate');
			calculate.onclick = function() {
				a1 = document.getElementById("a1").value
				b1 = document.getElementById("b1").value
				c1 = document.getElementById("c1").value
				is_all_numbers = true
				proble_text = ""
				
				if (!isNaN(a1) && !isNaN(parseFloat(a1))) { }
				else{
					proble_text += "Перше значення не число<br>"
					is_all_numbers = false
				}
				if (!isNaN(b1) && !isNaN(parseFloat(b1))) { }
				else{
					proble_text += "Друге значення не число<br>"
					is_all_numbers = false
				}
				if (!isNaN(c1) && !isNaN(parseFloat(c1))) { }
				else{
					proble_text += "Третє значення не число<br>"
					is_all_numbers = false
				}

				if (is_all_numbers){
					res = ""
					if (a1 == 0){
						res += "Дане рівняння не квадратне, але ХУЙ з ним, знайдемо і йому корені<br>"
						res += "Дано рівняння: " + (b1==1?"":b1) + "x = " + (-c1) + "<br>"
						if (b1 == 0) {
							if (c1 == 0)
								res += "Корені всі числа"
							else
								res += "НЕМАЄ КОРЕНІВ"
						}
						else{
							x = -c1/b1
							res += "Корінь: x = " + x
						}
					}
					else{
						res += "Дано рівняння: " + (a1==1?"":a1) + "x² + " + (b1==1?"":b1) + "x + " + c1 + " = 0" +  "<br>"
						
						a1 = parseFloat(a1)
						b1 = parseFloat(b1)
						c1 = parseFloat(c1)
						D = b1 * b1 - 4 * a1 * c1
						if (D < 0)
							res += "В даного рівняння НЕМАЄ КОРЕНІВ"
						else if (D == 0){
							x = -b1/(2*a1)
							res += "В даного рівняння ОДИН КОРІНЬ<br>x = " + x
						}
						else{
							x1 = (-b1 + Math.sqrt(D))/(2*a1)
							x2 = (-b1 - Math.sqrt(D))/(2*a1)
							res += "В даного рівняння ДВА КОРЕНІ<br>x1 = " + x1 + ",<br>x2 = " + x2
						}
						
					}
					document.getElementById("result").innerHTML = res;
				}
				else{
					document.getElementById("result").innerHTML = proble_text
				}
				
				
			}
		});
	</script>
</body>
</html>